[gd_scene load_steps=13 format=3 uid="uid://b1b1kyg5ak1kw"]

[ext_resource type="Script" path="res://scenes/levels/Level.cs" id="1_37vyo"]
[ext_resource type="MeshLibrary" uid="uid://cvb6xl8nh7vws" path="res://scenes/levels/dungeon/FloorMeshLibrary.tres" id="1_dy8vv"]
[ext_resource type="PackedScene" uid="uid://cvvu87irfmqm1" path="res://scenes/enemies/enemy.tscn" id="2_4mulc"]
[ext_resource type="MeshLibrary" uid="uid://b686hpw5x2r8t" path="res://scenes/levels/dungeon/WallsMeshLibrary.tres" id="2_umira"]
[ext_resource type="PackedScene" uid="uid://dhi51wv5tbpik" path="res://scenes/levels/map_manager.tscn" id="3_hy4st"]
[ext_resource type="PackedScene" uid="uid://ch4hss8ixtooy" path="res://scenes/levels/enemy_spawner.tscn" id="4_76dm5"]
[ext_resource type="PackedScene" uid="uid://c5y1dtkex8ba4" path="res://scenes/items/barrel.tscn" id="4_ttmur"]
[ext_resource type="PackedScene" uid="uid://ukjvle2lc3wy" path="res://scenes/levels/player_spawner.tscn" id="5_g3baj"]
[ext_resource type="PackedScene" uid="uid://hshntmwu857e" path="res://scenes/player/player.tscn" id="6_ot162"]
[ext_resource type="PackedScene" uid="uid://co63kumhx7fol" path="res://scenes/levels/CameraManager.tscn" id="7_astvi"]
[ext_resource type="PackedScene" uid="uid://cjvydduvn2nut" path="res://scenes/levels/item_spawner.tscn" id="8_on56x"]

[sub_resource type="NavigationMesh" id="NavigationMesh_ymnfm"]

[node name="Level" type="Node3D"]
script = ExtResource("1_37vyo")

[node name="MapManager" parent="." node_paths=PackedStringArray("FloorGridMap", "WallGridMap", "DecorationGridMap", "NavigationRegion") instance=ExtResource("3_hy4st")]
FloorGridMap = NodePath("../FloorGridMap")
WallGridMap = NodePath("../WallGridMap")
DecorationGridMap = NodePath("../DecorationGridMap")
NavigationRegion = NodePath("../NavigationRegion3D")

[node name="PlayerSpawner" parent="." instance=ExtResource("5_g3baj")]
PlayerScene = ExtResource("6_ot162")

[node name="EnemySpawner" parent="." instance=ExtResource("4_76dm5")]
EnemyScene = ExtResource("2_4mulc")

[node name="ItemSpawner" parent="." instance=ExtResource("8_on56x")]
ItemScene = ExtResource("4_ttmur")

[node name="CameraManager" parent="." node_paths=PackedStringArray("PlayerSpawner") instance=ExtResource("7_astvi")]
PlayerSpawner = NodePath("../PlayerSpawner")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ymnfm")

[node name="FloorGridMap" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
mesh_library = ExtResource("1_dy8vv")
cell_size = Vector3(1, 1, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false
collision_mask = 0

[node name="WallGridMap" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
mesh_library = ExtResource("2_umira")
cell_size = Vector3(1, 1, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false
collision_layer = 2
collision_mask = 0
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="DecorationGridMap" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
cell_size = Vector3(1, 1, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false
collision_layer = 16
collision_mask = 0
